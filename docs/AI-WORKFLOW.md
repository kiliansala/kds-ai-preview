# AI-Driven Workflow

Este documento describe el flujo de trabajo impulsado por IA para el desarrollo de KDS AI Preview.

## Filosofía del Proyecto

**"Design System as Code, Generated by AI"**

El objetivo es demostrar que un Design System completo puede ser generado, mantenido y evolucionado mediante agentes de IA, desde la extracción del diseño hasta la implementación final en múltiples frameworks.

## Etapas del Workflow

### 1. Design Extraction (Figma → Tokens)

**Herramienta**: Figma MCP Server
**Input**: Componentes en Figma (Untitled UI)
**Output**: Design Tokens (JSON/CSS)
**Agente AI**: Claude con acceso a Figma via MCP

**Proceso**:
```
1. AI lee el componente en Figma
2. AI identifica variantes, estados, propiedades
3. AI extrae colores, espaciados, tipografía, etc.
4. AI genera tokens estructurados
5. AI crea CSS custom properties
```

**Ejemplo de Token Generado**:
```json
{
  "button": {
    "primary": {
      "background": "#6366F1",
      "color": "#FFFFFF",
      "padding": "12px 24px",
      "borderRadius": "8px"
    }
  }
}
```

### 2. Component Generation (Tokens → LIT)

**Herramienta**: Claude Code
**Input**: Design Tokens + Especificaciones de diseño
**Output**: Web Component en LIT
**Agente AI**: Claude con expertise en LIT/Web Components

**Proceso**:
```
1. AI analiza los tokens del componente
2. AI determina propiedades reactivas necesarias
3. AI genera la estructura LIT con decoradores
4. AI implementa estilos con CSS + tokens
5. AI añade accesibilidad (ARIA, keyboard navigation)
6. AI genera TypeScript types
7. AI crea tests básicos
```

**Características del Componente**:
- Shadow DOM encapsulado
- Propiedades reactivas con @property()
- Eventos personalizados
- Slots para contenido
- Estilos basados en tokens
- Accesibilidad WCAG 2.1 AA

### 3. Wrapper Generation (LIT → Frameworks)

**Herramienta**: Claude Code
**Input**: Web Component + Framework requirements
**Output**: Wrappers específicos
**Agente AI**: Claude con expertise en React/Angular/Blazor

**React Wrapper**:
```typescript
// AI genera wrapper usando @lit-labs/react
import { createComponent } from '@lit-labs/react';
import { KdsButton } from '@kds/web-components';

export const Button = createComponent({
  tagName: 'kds-button',
  elementClass: KdsButton,
  react: React,
});
```

**Angular Wrapper**:
```typescript
// AI genera directive con CUSTOM_ELEMENTS_SCHEMA
@Component({
  selector: 'kds-button',
  template: '<ng-content></ng-content>',
  schemas: [CUSTOM_ELEMENTS_SCHEMA]
})
export class KdsButtonComponent { }
```

### 4. Documentation Generation

**Herramienta**: Claude Code + Wrappers automáticos
**Input**: Web Component source + JSDoc
**Output**: Documentación interactiva
**Agente AI**: Claude documentando APIs

**Genera**:
- API Reference (props, events, slots)
- Usage examples para cada framework
- Storybook stories
- Accessibility guidelines
- Best practices

### 5. Testing Generation

**Herramienta**: Claude Code
**Input**: Componente + Especificaciones
**Output**: Test suite completo
**Agente AI**: Claude con expertise en testing

**Tests generados**:
- Unit tests (props, events, rendering)
- Visual regression tests
- Accessibility tests
- Integration tests con frameworks

## Ventajas del Approach AI-First

### Consistencia
- AI aplica los mismos patrones en todos los componentes
- Reduce errores humanos
- Mantiene estándares de código

### Velocidad
- Generación de componentes en minutos, no días
- Iteración rápida basada en feedback
- Actualización masiva cuando cambian los diseños

### Documentación Automática
- La documentación se genera del código
- Siempre está actualizada
- Incluye ejemplos funcionales

### Accesibilidad por Defecto
- AI incluye ARIA attributes automáticamente
- Keyboard navigation estándar
- Cumple WCAG desde el inicio

### Multi-Framework sin esfuerzo
- Los wrappers se generan automáticamente
- Comportamiento consistente entre frameworks
- Reduce el effort de mantenimiento

## Prompts y Templates

El proyecto mantiene una librería de prompts optimizados para:

1. **Token Extraction**
   - "Extract all design tokens from this Figma component..."

2. **Component Generation**
   - "Generate a LIT web component with these specifications..."

3. **Wrapper Generation**
   - "Create a React wrapper for this web component..."

4. **Documentation**
   - "Generate comprehensive documentation for..."

5. **Testing**
   - "Create a test suite that covers..."

## Limitaciones y Consideraciones

### Actuales
- Figma free version no tiene variables
- Extracción de tokens es manual/semi-automática
- Requiere validación humana de output

### Futuras Mejoras
- Integración con Figma Variables (versión pro)
- Pipeline CI/CD automatizado
- Visual regression testing automático
- Detección automática de cambios en Figma

## Metrics de Éxito

Para medir el éxito del approach AI-first:

1. **Velocidad**: Tiempo de diseño → producción
2. **Consistencia**: Adherencia a patrones
3. **Cobertura**: Tests, docs, accesibilidad
4. **Mantenibilidad**: Facilidad de updates
5. **Adopción**: Uso por developers

## Próximos Pasos

1. Implementar extracción de Button via MCP
2. Generar primer web component completamente con AI
3. Crear wrappers para los 3 frameworks
4. Validar calidad y consistencia
5. Iterar y refinar los prompts
6. Documentar learnings
7. Presentar a stakeholders

---

**Este workflow evoluciona continuamente basado en learnings del proyecto.**
